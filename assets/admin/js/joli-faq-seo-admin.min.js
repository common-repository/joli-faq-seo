"use strict";!function(m){m(document).ready(function(){if(!m(".jfaq-seo-wrap").length)return!1;m(".jfaq-color-picker").wpColorPicker({change:function(){m(".joli-info-text").addClass("open")}}),m(".joli-pro .wp-picker-container button").each(function(t,e){m(this).attr("disabled",!0)}),m(".joli-do-submit").on("click",function(t){document.getElementById("jfaq-settings").submit()}),m(document).on("mousedown",function(t){var e=m(".wp-picker-active");!m(t.target).closest(".wp-color-result").length&&m(t.target).closest(".wp-picker-container").length||!m(".wp-picker-active").length||1!=m(e).find(".jfaq-color-picker").data("joli-refresh")||j()});var o=m(".jfaq-seo-wrap .joli-nav"),a=m("#tab-settings table.form-table tr"),t=window.location.hash;0<t.length?p("tab-"+t.substr(1)):p(m(o).children().first().attr("id"));var e=!1,i=m("#wpadminbar"),s=m(i).outerHeight(!0),n=m(".joli-header"),c=m(n).offset().top,r=m(document).scrollTop(),l=m("#jfaq-demo"),d=m(l).offset(),f=m(l).outerWidth(!0),u=m(l).outerHeight(!0);function h(){u=m(l).outerHeight(!0),m(".joli-tab-content").css("min-height",u+"px")}function p(t){m(o).find(".joli-nav-item").removeClass("nav-tab-active"),m(o).find("#"+t).addClass("nav-tab-active"),m(a).removeClass("active"),m("#tab-settings table.form-table tr."+t).addClass("active");var e=m("#tab-settings h2").next("table"),i=m("#tab-settings .joli-section > h2"),n=m(".joli-tab-pane");m(e).hide(),m(i).hide(),m(n).hide();i=i.filter(function(){return m(this).next("table").find("tr").hasClass("active")}),e=e.filter(function(){return m(this).find("tr").hasClass("active")}),n=n.filter(function(){return m(this).attr("data-key")==t},t);m(e).show(),m(i).show(),m(n).show(),"tab-general"==t?m(".joli-quickstart-notice").show():m(".joli-quickstart-notice").hide(),c<r+s&&m("html, body").animate({scrollTop:c-s-15},600,void document)}function j(){var t=m("#jfaq-settings").find('[name^="joli_faq_seo_settings"]').serialize(),e=document.getElementById("jfaq-settings");new FormData(e);m("#jfaq-demo-wrap").html('<div class="spinner is-active"></div>'),m.ajax({url:jfaqAdmin.ajaxUrl,method:"post",dataType:"json",data:{action:"jfaq_admin_get_faq_preview",form_data:t},success:function(t){m("#jfaq-demo-wrap").html(t.data.faq_preview).promise().done(function(){JFAQSEO.init(jfaqOptions),m(".jfaq--answer").on("jfaqAnswerOpened",function(t){h()})})}})}m(window).on("scroll",function(){e=!0}),m(window).on("resize",function(){c=m(n).offset().top,s=m(i).outerHeight(!0),d=m(l).offset(),f=m(l).outerWidth(!0)}),setInterval(function(){e&&(e=!1,function(){(r=m(document).scrollTop())+s>c?(m(n).css("position","fixed"),m(n).css("top",s+"px")):(m(n).css("position",""),m(n).css("top",""));r+s>d.top?(m(l).css("position","fixed"),m(l).css("top",s+"px"),m(l).css("right",m(window).width()-d.left-f+"px"),m(l).css("width",f+"px")):(m(l).css("position",""),m(l).css("top",""),m(l).css("right",""),m(l).css("width",""));h()}())},50),m(".jfaq--answer").on("jfaqAnswerOpened",function(t){h()}),m(".joli-nav-item").on("click",function(){p(m(this).attr("id"))}),m(document).on("change","input:checkbox.joli-checkbox",function(){var t=m(this).attr("data-linkedfield"),t=m("#check_"+t);m(t).val(m(this).prop("checked")?1:0)}),m(document).on("change",".joli-content textarea, .joli-content input, .joli-content select",function(){m(".joli-info-text").addClass("open")}),m(document).on("change",".joli-content select",function(){var t,e=".joli-admin-image-"+m(this).attr("data-selector");0<m(e).length&&(t=this.value,m(e).addClass("hidden"),t="#"+m(this).attr("data-selector")+"-"+t,m(t).removeClass("hidden"))}),m(document).on("click",".notice.joli-faq-rating .button",function(t){t.preventDefault();var e=m(this).closest(".notice");m.ajax({url:jfaqAdmin.ajaxUrl,method:"post",data:{action:"jfaqHandleRating",method:m(this).attr("data-method")},success:function(){m(e).fadeOut("slow")}})}),m(document).on("click","#jfaq_reset_settings",function(t){var e=m(this).data("prompt");if(!confirm(e))return t.preventDefault(),!1}),m(document).on("change",'[data-joli-refresh="true"], [data-joli-refresh="true"] input, [data-joli-refresh="true"] select',function(t){j()}),m(document).on("change","input.joli-css-unit-input, select.joli-css-unit-values",function(){var t=m(this).closest(".joli-css-unit-field"),e=m(this).attr("data-linkedfield"),i=m("#joli-css-unit_"+e),n=m(t).find("input.joli-css-unit-input"),e=m(t).find("select.joli-css-unit-values"),t="";""!==m(n).val()&&(t=m(n).val()+"|"+m(e).val()),m(i).val(t||"")})})}(jQuery);